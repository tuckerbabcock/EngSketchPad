<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pyCAPS: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pyCAPS
   </div>
   <div id="projectbrief">pyCAPS: A Python Extension Module for CAPS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#capsProblemSec">The capsProblem Class</a><ul><li class="level2"><a href="#capsProblemBasics">Initialization and termination</a></li>
<li class="level2"><a href="#capsProblemLoadGeometry">Loading the geometry</a></li>
<li class="level2"><a href="#capsProblemLoadAnalysis">Loading an AIM</a></li>
</ul>
</li>
<li class="level1"><a href="#capsGeometrySec">Working with Geometry</a><ul><li class="level2"><a href="#capsGeometrySetandGet">Setting and getting design parameters</a></li>
<li class="level2"><a href="#capsGeometryView">Viewing geometry</a></li>
</ul>
</li>
<li class="level1"><a href="#capsAnalysisSec">Working with an AIM</a><ul><li class="level2"><a href="#capsAnalysisSetandGet">Setting and getting AIM inputs and outputs</a></li>
<li class="level2"><a href="#capsAnalysisPreAndPost">AIM pre- and post- analysis</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The following provides an overview of <a class="el" href="namespacepyCAPS.html" title="Python extension module for CAPS. ">pyCAPS</a>'s services, with the intention being to emphasis and focus on basic, core functionality. As such not at all functions will be discussed. Users are encouraged to individually explore each classes documentation for a complete list of options.</p>
<h1><a class="anchor" id="capsProblemSec"></a>
The capsProblem Class</h1>
<p>The capsProblem class is the front end of <a class="el" href="namespacepyCAPS.html" title="Python extension module for CAPS. ">pyCAPS</a>. All other classes are intended to be initiated through the problem class. The following code details the primary function calls and uses when creating/setting up a new problem.</p>
<h2><a class="anchor" id="capsProblemBasics"></a>
Initialization and termination</h2>
<p>The first step to create a new capsProblem is to import the <a class="el" href="namespacepyCAPS.html" title="Python extension module for CAPS. ">pyCAPS</a> module; on Linux and OSx this is the pyCAPS.so file, while on Windows it is the pyCAPS.pyd file. For convenience, it is recommended that the path to this file is added to the environmental variable PYTHONPATH.  <div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code" href="namespacepyCAPS.html">pyCAPS</a></div></div><!-- fragment --></p>
<p>After the module is loaded, a new capsProblem class object should be instantiated (see <a class="el" href="classpyCAPS_1_1capsProblem.html#a07d89d29477fb7626c4d5aedc94e1d4d" title="Initialize the problem. ">pyCAPS.capsProblem.__init__</a>). Note that multiple problems may be simultaneously loaded/exist in a single script.  <div class="fragment"><div class="line">myProblem = <a class="code" href="namespacepyCAPS.html">pyCAPS</a>.<a class="code" href="classpyCAPS_1_1capsProblem.html">capsProblem</a>()</div></div><!-- fragment --></p>
<p>Once a problem has been created the public attributes of the capsProblem are accessible.</p>
<p>After all desired operations on the problem are finished, it is recommended to close the problem (see <a class="el" href="classpyCAPS_1_1capsProblem.html#aee96c2ca26ba519595ef178aa7aadb7c" title="Close a CAPS problem. ">pyCAPS.capsProblem.closeCAPS</a>).  <div class="fragment"><div class="line">myProblem.closeCAPS()</div></div><!-- fragment --></p>
<p>Putting it all together we get: </p><div class="fragment"><div class="line"><span class="comment"># Use: Initiate/close problem. </span></div><div class="line"></div><div class="line"><span class="comment"># Import pyCAPS module (Linux and OSx = pyCAPS.so file; Windows = pyCAPS.pyd file) </span></div><div class="line"><span class="keyword">import</span> pyCAPS</div><div class="line"></div><div class="line"><span class="comment"># Instantiate our CAPS problem &quot;myProblem&quot; </span></div><div class="line">print(<span class="stringliteral">&quot;Initiating capsProblem&quot;</span>)</div><div class="line">myProblem = <a class="code" href="classpyCAPS_1_1capsProblem.html">pyCAPS.capsProblem</a>()</div><div class="line"></div><div class="line"><span class="comment"># Close our problem</span></div><div class="line">print(<span class="stringliteral">&quot;Closing our problem&quot;</span>)</div><div class="line">myProblem.closeCAPS()</div></div><!-- fragment --><h2><a class="anchor" id="capsProblemLoadGeometry"></a>
Loading the geometry</h2>
<p>A geometry file is loaded into the problem using the loadCAPS() function for the problem (see <a class="el" href="classpyCAPS_1_1capsProblem.html#a31500d80889f5089e2034f023303dc9f" title="Loads a *.csm, *.caps, or *.egads file into the problem. ">pyCAPS.capsProblem.loadCAPS</a>). In the example below a *.csm file, "./csmData/cfdMultiBody.csm", is loaded into our created problem from above. The project name "basicTest" may be optionally set here; if no argument is provided the CAPS file provided is used as the project name. A reference to the newly created geometry class (see <a class="el" href="classpyCAPS_1_1__capsGeometry.html" title="Functions to interact with a CAPS geometry object. ">pyCAPS._capsGeometry</a>) is stored and accessed through the geometry attribute (<a class="el" href="classpyCAPS_1_1capsProblem.html#af12fe3e5d8da3d7bd4c76e44cca2319c" title="Geometry object loaded into the problem. ">pyCAPS.capsProblem.geometry</a>) </p><div class="fragment"><div class="line">myProblem.loadCAPS(<span class="stringliteral">&quot;./csmData/cfdMultiBody.csm&quot;</span>, <span class="stringliteral">&quot;basicTest&quot;</span>)</div></div><!-- fragment --><p> Alternatively, a reference to the geometry class is also returned during a call to loadCAPS() and can be used to also access the geometry class. Both the above and below code snippets are equivalent. </p><div class="fragment"><div class="line">myGeometry = myProblem.loadCAPS(<span class="stringliteral">&quot;./csmData/cfdMultiBody.csm&quot;</span>, <span class="stringliteral">&quot;basicTest&quot;</span>)</div></div><!-- fragment --> <h2><a class="anchor" id="capsProblemLoadAnalysis"></a>
Loading an AIM</h2>
<p>Analysis interface modules (AIMs) are loaded in the problem using the loadAIM() function for the problem (see <a class="el" href="classpyCAPS_1_1capsProblem.html#a7e82d1be7b577740a0a98ac27cad7f70" title="Load an AIM (Analysis Interface Module) into the problem. ">pyCAPS.capsProblem.loadAIM</a>). In the code sample below, the "fun3dAIM" is loaded into the problem with a specified working directory and intention.</p>
<div class="fragment"><div class="line">myProblem.loadAIM(aim = <span class="stringliteral">&quot;fun3dAIM&quot;</span>, </div><div class="line">                  altName = <span class="stringliteral">&quot;fun3d&quot;</span>, </div><div class="line">                  analysisDir = <span class="stringliteral">&quot;FUN3DAnalysisTest&quot;</span>,</div><div class="line">                  capsIntent = <span class="stringliteral">&quot;CFD&quot;</span>)</div></div><!-- fragment --><p> Since the "altName" keyword is being specified in the above snippet this analysis instance will be referenced/bookkept in the problem's analysis dictionary (<a class="el" href="classpyCAPS_1_1capsProblem.html#ab8b576d14990b9f80475e5620e52cc25" title="Dictionary of analysis objects loaded into the problem. ">pyCAPS.capsProblem.analysis</a>) as "fun3d". For example,</p>
<div class="fragment"><div class="line">print(myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].analysisDir)</div></div><!-- fragment --><p> results in, </p><div class="fragment"><div class="line">FUN3DAnalysisTest</div></div><!-- fragment --><p>Alternatively, a reference to the analysis class is also returned during a call to loadAIM() and can be used to also access the analysis class. Both the above and below code snippets are equivalent.</p>
<div class="fragment"><div class="line">fun3d = myProblem.loadAIM(aim = <span class="stringliteral">&quot;fun3dAIM&quot;</span>, </div><div class="line">                          altName = <span class="stringliteral">&quot;fun3d&quot;</span>, </div><div class="line">                          analysisDir = <span class="stringliteral">&quot;FUN3DAnalysisTest&quot;</span>,</div><div class="line">                          capsIntent = <span class="stringliteral">&quot;CFD&quot;</span>)</div><div class="line"></div><div class="line">print(fun3d.analysisDir)</div></div><!-- fragment --><h1><a class="anchor" id="capsGeometrySec"></a>
Working with Geometry</h1>
<p>Once the geometry is loaded various functions are provided to interact with it (see <a class="el" href="classpyCAPS_1_1__capsGeometry.html" title="Functions to interact with a CAPS geometry object. ">pyCAPS._capsGeometry</a>). The following sections highlight a few of the more common ones.</p>
<h2><a class="anchor" id="capsGeometrySetandGet"></a>
Setting and getting design parameters</h2>
<p>Geometric design parameters may be set using the setGeometryVal() function (<a class="el" href="classpyCAPS_1_1__capsGeometry.html#aa06567b5923b18ebd843d51f7f9b2de0" title="Sets a GEOMETRYIN variable for the geometry object. ">pyCAPS._capsGeometry.setGeometryVal</a>), while the current value of the parameter may be retrieved using getGeometryVal() (<a class="el" href="classpyCAPS_1_1__capsGeometry.html#a9e4d6b9872cf2918fee1970961232b19" title="Gets a GEOMETRYIN variable for the geometry object. ">pyCAPS._capsGeometry.getGeometryVal</a>). In the following example (geometry from <a class="el" href="gettingStarted.html#capsProblemLoadGeometry">Loading the geometry</a>) the current value for the parameter "lesweep" is first obtained. The value is then reset and increased by 20.0.</p>
<div class="fragment"><div class="line"><span class="comment"># Get current value of the leading edges sweep </span></div><div class="line">value = myGeometry.getGeometryVal(<span class="stringliteral">&quot;lesweep&quot;</span>)</div><div class="line">print(<span class="stringliteral">&quot;Current sweep Value =&quot;</span>, value)</div><div class="line">    </div><div class="line"><span class="comment"># Set a new value for the leading edges sweep </span></div><div class="line">myGeometry.setGeometryVal(<span class="stringliteral">&quot;lesweep&quot;</span>, value + 20.0)</div><div class="line"></div><div class="line"><span class="comment"># Check to see if the value was set correctly</span></div><div class="line">value = myGeometry.getGeometryVal(<span class="stringliteral">&quot;lesweep&quot;</span>)</div><div class="line">print(<span class="stringliteral">&quot;New Sweep Value =&quot;</span>, value)</div></div><!-- fragment --><p> The results from this snippet look like: </p><div class="fragment"><div class="line">Current sweep Value = 30.0</div><div class="line">New Sweep Value = 50.0</div></div><!-- fragment --><h2><a class="anchor" id="capsGeometryView"></a>
Viewing geometry</h2>
<p>Within Python a picture of the current geometry may be viewed and/or saved using the viewGeometry() function (<a class="el" href="classpyCAPS_1_1__capsGeometry.html#aeb58f70adce5c2fe8d4d8a9a1bd1a540" title="View or take a screen shot of the geometry configuration. ">pyCAPS._capsGeometry.viewGeometry</a>). A representative example of the function is as follows,</p>
<div class="fragment"><div class="line">myGeometry.viewGeometry(filename = <span class="stringliteral">&quot;GeomViewDemo_NewSweep&quot;</span>,</div><div class="line">                        title=<span class="stringliteral">&quot;DESPMTR: lesweep = &quot;</span> + str(value), </div><div class="line">                        showImage = <span class="keyword">True</span>, </div><div class="line">                        ignoreBndBox = <span class="keyword">True</span>, </div><div class="line">                        combineBodies = <span class="keyword">True</span>, </div><div class="line">                        showTess = <span class="keyword">False</span>,</div><div class="line">                        showAxes = <span class="keyword">False</span>,</div><div class="line">                        directory = <span class="stringliteral">&quot;GeometryImages&quot;</span>,</div><div class="line">                        viewType = <span class="stringliteral">&quot;fourview&quot;</span>)</div></div><!-- fragment --><p> Upon execution of the above code an image of the current geometry is displayed on the screen (showImage = True). As seen below, all the bodies are combined (combineBodies = True) into a single image with four different view points (viewType = "fourview"). Since a filename is also provided, the imaged displayed on the screen is also saved.</p>
<div class="image">
<img src="GeomViewDemo_NewSweep.png" alt="GeomViewDemo_NewSweep.png" width="500px"/>
<div class="caption">
Demo of viewGeometry()</div></div>
 <h1><a class="anchor" id="capsAnalysisSec"></a>
Working with an AIM</h1>
<p>Once an AIM has been loaded, various functions are provided to interact with it (see <a class="el" href="classpyCAPS_1_1__capsAnalysis.html" title="Functions to interact with a CAPS analysis object. ">pyCAPS._capsAnalysis</a>). The following sections highlight a few of the more common ones.</p>
<h2><a class="anchor" id="capsAnalysisSetandGet"></a>
Setting and getting AIM inputs and outputs</h2>
<p>AIM inputs may be set using the setAnalysisVal() function (<a class="el" href="classpyCAPS_1_1__capsAnalysis.html#a35e37b72f23a1112a59ca2e7da18a751" title="Sets an ANALYSISIN variable for the analysis object. ">pyCAPS._capsAnalysis.setAnalysisVal</a>), while the current value of the input may be retrieved using getAnalysisVal() (<a class="el" href="classpyCAPS_1_1__capsAnalysis.html#a592452c5288ae0d9bb0b6825570cd003" title="Gets an ANALYSISIN variable for the analysis object. ">pyCAPS._capsAnalysis.getAnalysisVal</a>). In the following example (AIM from <a class="el" href="gettingStarted.html#capsProblemLoadAnalysis">Loading an AIM</a>) the current value for the input "Proj_Name" is first obtained and is then reset.</p>
<div class="fragment"><div class="line"><span class="comment"># Get current value of the project name</span></div><div class="line">value = fun3d.getAnalysisVal(<span class="stringliteral">&quot;Proj_Name&quot;</span>)</div><div class="line">print(<span class="stringliteral">&quot;Current project name =&quot;</span>, value)</div><div class="line">    </div><div class="line"><span class="comment"># Set a new value for the project name</span></div><div class="line">fun3d.setAnalysisVal(<span class="stringliteral">&quot;Proj_Name&quot;</span>, <span class="stringliteral">&quot;pyCAPS_Demo&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Check to see if the value was set correctly</span></div><div class="line">value = fun3d.getAnalysisVal(<span class="stringliteral">&quot;Proj_Name&quot;</span>)</div><div class="line">print(<span class="stringliteral">&quot;New project name =&quot;</span>, value)</div></div><!-- fragment --><p> The results from this snippet look like: </p><div class="fragment"><div class="line">Current project name = fun3d_CAPS</div><div class="line">New project name = pyCAPS_Demo</div></div><!-- fragment --><p>Similar to getAnalysisVal, the getAnalysisOutVal() function (<a class="el" href="classpyCAPS_1_1__capsAnalysis.html#a244d9cb01b15693ccf1d5cdf864cfddd" title="Gets an ANALYSISOUT variable for the analysis object. ">pyCAPS._capsAnalysis.getAnalysisOutVal</a>) returns AIM output variables.</p>
<h2><a class="anchor" id="capsAnalysisPreAndPost"></a>
AIM pre- and post- analysis</h2>
<p>For a given AIM, the CAPS pre- and post- analysis functions are executed in <a class="el" href="namespacepyCAPS.html" title="Python extension module for CAPS. ">pyCAPS</a> using the preAnalysis() (<a class="el" href="classpyCAPS_1_1__capsAnalysis.html#a7743b196d00df5de823148a8682cbefd" title="Run the pre-analysis function for the AIM. ">pyCAPS._capsAnalysis.preAnalysis</a>) and postAnalysis() (<a class="el" href="classpyCAPS_1_1__capsAnalysis.html#a92eae7f8b628f180a65fefe438185707" title="Run the post-analysis function for the AIM. ">pyCAPS._capsAnalysis.postAnalysis</a>) functions.</p>
<div class="fragment"><div class="line"><span class="comment"># Execute pre-Analysis</span></div><div class="line">fun3d.preAnalysis()</div><div class="line"></div><div class="line"><span class="comment"># Run AIM - os.system call, python interface, etc.....</span></div><div class="line"></div><div class="line"><span class="comment"># Execute post-Analysis   </span></div><div class="line">fun3d.postAnalysis()</div></div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 23 2020 10:30:45 for pyCAPS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
